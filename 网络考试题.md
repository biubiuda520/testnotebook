# 网络考试题讲解	



## 01-常见的HTTP状态码你了解多少？



**301 Moved Permanently（永久移动）**

被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个URI之一

适用场景

- 域名到期不想续费（或者发现了更适合网站的域名），想换个域名。
- 在搜索引擎的搜索结果中出现了不带 www 的域名，而带 www 的域名却没有收录，这个时候可以用301重定向来告诉搜索引擎我们目标的域名是哪一个
- 空间服务器不稳定，换空间的时候
- 谷歌认为是将网站地址由 HTTP 迁移到 HTTPS的最佳方法

**302 Found（Moved Temporarily）**

一般是普通的重定向需求：临时跳转

适用场景

- 未登录前先使用302重定向到登录页面,登录成功后再跳回到原来请求的页面
- 有时候需要自动刷新页面，比如5秒后回到订单详细页面之类
- 有时系统进行升级或者切换某些功能时，需要临时更换地址
- 电脑端与移动端的转换

**303  See Other**

对应当前请求的响应可以在另一个 URI 上被找到，而且客户端应当采用 GET 的方式访问那个资源

适用场景

​	比如如说适用post方式进行一个表单的提交，后台收到表单之后，将界面跳转到一个成功的界面上去（**几乎不用**）

**304 Not Modified**

如果客户端发送了一个带条件的 GET 请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个状态码。304响应禁止包含消息体，因此始终以消息头后的第一个空行结尾(协商缓存)

**401 Unauthorized**

当前请求需要用户验证，该响应必须包含一个适用于被请求资源的 WWW-Authenticate 信息头用以询问用户信息。客户端可以重复提交一个包含恰当的 Authorization 头信息的请求。如果当前请求已经包含了 Authorization 证书，那么401响应代表着服务器验证已经拒绝了那些证书。如果401响应包含了与前一个响应相同的身份验证询问，且浏览器已经至少尝试了一次验证

**测试地址**：https://www.hyfarsight.com//api/official/article/articleItme?articleClassify=all&page=0&size=6



**403  Forbidden**

服务器已经理解请求，但是拒绝执行它。与401响应不同的是，身份验证并不能提供任何帮助，而且这个请求也不应该被重复提交。如果这不是一个 HEAD 请求，而且服务器希望能够讲清楚为何请求不能被执行，那么就应该在实体内描述拒绝的原因。当然服务器也可以返回一个404响应，假如它不希望让客户端获得任何信息。

**404  Not Found**

请求失败，请求所希望得到的资源未被在服务器上发现。没有信息能够告诉用户这个状况到底是暂时的还是永久的。假如服务器知道情况的话，应当使用410状态码来告知旧资源因为某些内部的配置机制问题，已经永久的不可用，而且没有任何可以跳转的地址

**405 Method Not Allowed**

请求行中指定的请求方法不能被用于请求相应的资源。该响应必须返回一个Allow 头信息用以表示出当前资源能够接受的请求方法的列表。

**500以上 Internal Server Error**

一般指服务器错误

**503  Service Unavailable  **

网站关闭了



---



## 02. 什么情况下会遇到跨域，描述一下前端常见处理跨域的几种方式。并封装一个jsonp原理

### 产生原因

浏览器请求不同源的数据的时候受到浏览器的同源策略的限制，会被认为是跨域。（协议、域名、端口号有任何一项不相同的情况下都会被认定为是跨域请求数据）



### 常见的处理办法

**JSONP**

**proxy代理**

**后端设置响应头cors**



**封装一个JSONP的实现原理**

利用script标签不受同源策略影响的特性，使用DOM添加自定义script标签的形式来实现。将scr的属性指定为本次请求数据的地址，并与后端约定请求的参数，前端发送的请求参数里面一定有一个全局的自定义函数，这个函数就作为后端的返回结果的响应执行函数，后端一般的拿到请求的参数，整理数据后，返回给前端进行适用，避免界面加载多个script请求标签，每次请求完成之后，删除这个script标签

---



## 03. Web前端应该从哪些方面来优化网站性能

- 减少网站的http请求连接次数
  - 首次加载界面，尽量少的请求图片数量（可使用雪碧图进行代替，icon使用字体图标）
  - 尽量合并css及JS文件
  - 静态文件的合理缓存（diskCache memoryCache） **重点**
- 减小文件代码体积（压缩文件）
- 使用 cdn 进行三方文件资源加载
- 按需进行文件加载
- 减少DOM操作（避免务必要的重绘重排）
- 保证DOM树渲染完成进行script脚本执行



---



## 04. 浏览器端存储有哪些，并描述他们的区别

- **cookie**
- **webStorage**
  - localStorage
  - sessionStorage



## 05. 说说get和post请求

​		

| 请求方法 | 应用场景                             | 参数传递                 | 是否可以缓存 | 参数大小 |
| -------- | ------------------------------------ | ------------------------ | ------------ | -------- |
| GET      | “读取“一个资源（ajax，读取一个文件） | 地址栏传递参数           | 是           | 1024     |
| POST     | 发送数据（一般用于插入数据）         | request Body进行参数传递 | 否           | 无限制   |
| PUT      | 发送数据（一般用于现有数据修改）     | request Body进行参数传递 | 否           | 无限制   |
| DELETE   | 删除某个数据资源                     | 地址栏传递参数           | 否           | 1024     |



## 06. 输入url地址都做了哪些事情

### 简述版本

1. 输入url地址
2. 应用层进行DNS解析
3. 应用层生成HTTP请求报文
4. 传输层建立TCP连接
5. 网络层使用IP协议来选择路线
6. 数据链路层实现网络相邻节点间可靠的数据通信
7. 物理层传输数据
8. 服务器处理反向传输
9. 服务器返回一个 HTTP 响应
10. 浏览器渲染



**简述总结**

​		1、浏览器构建HTTP Request请求
　　2、网络传输
　　3、服务器构建HTTP Response 响应
　　4、网络传输
　　5、浏览器渲染页面



![在这里插入图片描述](https://adminimg.hyfarsight.com/20190810155759517.png)

### 详细版本

#### 一、应用层

1. **DNS域名解析**

   <p>　　通过DNS将域名解析成IP地址。在解析过程中，按照<code>浏览器缓存</code>、<code>系统缓存</code>、<code>路由器缓存</code>、<code>ISP(运营商)DNS缓存</code>、<code>根域名服务器</code>、<code>顶级域名服务器</code>、<code>主域名服务器</code>的顺序，逐步读取缓存，直到拿到IP地址</p>

   - 浏览器缓存： disk cache        

   - 系统缓存：memory cache

   - l路由缓存： 硬件设备上的缓存（路由器）

     **不管是上述的哪一种缓存，状态码应该都是200，如果找到对应的文件，直接读取缓存文件，直接进行渲染界面的操作**

2. **HTTP请求报文生成**

   应用层生成针对目标WEB服务器的HTTP请求报文，HTTP请求报文包括起始行、首部和主体部分

#### 二、传输层

​	传输层建立TCP连接，执行三次握手的过程，由于TCP协议是面向连接的，所以它在开始传输数据之前需要先建立连接。要建立或初始化一个连接，两端主机必须同步双方的初始序号。同步是通过交换连接建立数据分段和初始序号来完成的，在连接建立数据分段中包含一个SYN(同步)的控制位。同步需要双方都发送自己的初始序号，并且发送确认的ACK

#### 三、网络层

​	　　网络层使用IP协议来选择路线，　处理来自传输层的数据段segment，将数据段segment装入数据包packet，填充包头，主要就是添加源和目的IP地址，然后发送数据。在数据传输的过程中，IP协议负责选择传送的路线，**网络层的功能实际就是一个路由的功能**

#### 四、数据链路层

　　数据链路层实现网络相邻结点间可靠的数据通信，为了保证数据的可靠传输，把数据包packet封装成帧(Frame)，并按顺序传送各帧。由于物理线路的不可靠，发出的数据帧有可能在线路上出错或丢失，于是为每个数据分块计算出CRC(循环冗余检验)，并把CRC添加到帧中，这样接收方就可以通过重新计算CRC来判断数据接收的正确性。一旦出错就重传；**数据链路层其实就是保证了数据传输的可靠性**

#### 五、物理层进行数据传输

　　通过网络传输层、网络层、数据链路层的层层封装，最终将响应报文封装成二进制比特流，并转换成其他信号，如电信号到网络中传输 **服务器处理HTTP请求，返回响应。**

#### 六、浏览器渲染

1. 浏览器检查HTTP响应是否为一个重定向（3XX结果状态码）、一个验证请求（401）、错误（4XX、5XX）等等，这些都需要根据具体情况分类处理。

2. 浏览器接收HTTP响应并且可能关掉TCP连接，或者是重新建立连接使用新情求，获得新响应。

3. 浏览器解码响应，如果响应可以缓存，则存入缓存

4. HTML文件解析、HTML解析分为可以分为解码、分词、解析、建树四个步骤

   1. 解码：将网络上接收到的经过编码的字节流，解码成Unicode字符
   2. 分词：按照一定的切词规则，将Unicode字符流切成一个个的词语(Tokens)
   3. 解析：根据词语的语义，创建相应的节点(Node)
   4. 建树：将节点关联到一起，创建DOM树

5. 解析CSS文件

   　　页面中所有的CSS由样式表CSSStyleSheet集合构成，而CSSStyleSheet是一系列CSSRule的集合，每一条CSSRule则由选择器CSSStyleSelector部分和声明CSSStyleDeclaration部分构成，而CSSStyleDeclaration是CSS属性和值的Key-Value集合，CSS解析完毕后会进行CSSRule的匹配过程，即寻找满足每条CSS规则Selector部分的HTML元素，然后将其Declaration声明部分应用于该元素。实际的规则匹配过程会考虑到默认和继承的CSS属性、匹配的效率及规则的优先级等因素

6. 解析JS文件

   ​		JavaScript一般由单独的脚本引擎解析执行，它的作用通常是动态地改变DOM树（比如为DOM节点添加事件响应处理函数），即根据时间（timer）或事件（event）映射一棵DOM树到另一棵DOM树

7. 构建DOM树、Render树及RenderLayer树（渲染界面）

8. 浏览器显示HTML页面。

9. 页面全部渲染结束。

   

   ---

   

## 07. 请描述TCP三次握手与四次挥手？

**三次握手**

A对B说：我的序号是x，我要向你请求连接；（第一次握手，发送SYN包，然后进入SYN-SEND状态）

B听到之后对A说：我的序号是y，期待你下一句序号是x+1的话（意思就是收到了序号为x的话，即ack=x+1），同意建立连接。（第二次握手，发送ACK-SYN包，然后进入SYN-RCVD状态）

A听到B说同意建立连接之后，对A说：与确认你同意与我连接（ack=y+1,ACK=1,seq=x+1）。（第三次握手，A已进入ESTABLISHED状态）

B听到A的确认之后，也进入ESTABLISHED状态。

​		

**四次挥手**

A与B交谈结束之后，A要结束此次会话，对B说：我要关闭连接了（seq=u,FIN=1）。（第一次挥手，A进入FIN-WAIT-1）

B收到A的消息后说：确认，你要关闭连接了。（seq=v,ack=u+1,ACK=1）（第二次挥手，B进入CLOSE-WAIT）

A收到B的确认后,等了一段时间，因为B可能还有话要对他说。（此时A进入FIN-WAIT-2）

B说完了他要说的话（只是可能还有话说）之后，对A说，我要关闭连接了。（seq=w, ack=u+1,FIN=1，ACK=1）(第三次挥手)

A收到B要结束连接的消息后说：已收到你要关闭连接的消息。（seq=u+1,ack=w+1,ACK=1）(第四次挥手，然后A进入CLOSED)

B收到A的确认后，也进入

---



## 08. TCP与 UDP 的区别

**tcp 传输控制协议**

**UDP：用户数据报协议**



**区别：**

- TCP面向连接（比如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接
- TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达; UDP尽最大努力交付，但不保证可靠交付
- TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流；UDP是面向报文的，UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）
- 每一条TCP连接只能是点到点的; UDP支持一对一，一对多，多对一和多对多的交互通信
- TCP首部开销20字节;UDP的首部开销小，只有8个字节
- TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道



---



## 09、http是什么?

## 10、http与https的区别

HTTP是hypertext transfer protocol（超文本传输协议）的简写，它是TCP/IP协议的一个应用层协议，用于定义WEB浏览器与WEB服务器之间交换数据的过程。客户端连上web服务器后，若想获得web服务器中的某个web资源，需遵守一定的通讯格式，HTTP协议用于定义客户端与web服务器通迅的格式。 

为了数据传输的安全，HTTPS在HTTP的基础上加入了SSL协议，SSL依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。

http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。

http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

http默认端口号：80

https 默认端口号：443



---



## 11、重排（回流）和重绘是什么?什么情况下会触发重排和重绘。



浏览器会把HTML解析成DOM，把CSS解析成CSSOM，DOM和CSSOM合并就产生了Render Tree。有了RenderTree，我们就知道了所有节点的样式，然后计算他们在页面上的大小和位置，最后把节点绘制到页面上。

**重排(回流)和重绘是什么？**

- 回流：当Render Tree中部分或全部元素的尺寸、结构、或某些属性发生改变时，浏览器重新渲染部分或全部文档的过程称为回流。每个页面至少需要一次回流，就是在页面第一次加载的时候。
- 重绘：当页面中元素样式的改变并不影响它在文档流中的位置时（例如：color、background-color、visibility等），这些属性只是影响元素的外观，风格，而不会影响布局的，浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。

**触发重排和重绘**

-  页面首次渲染
-  浏览器窗口大小发生改变
-  元素尺寸或位置发生改变
-  元素内容变化（文字数量或图片大小等等）
-  元素字体大小变化
-  添加、删除、更新 可见的DOM 节点
- 通过 visibility: hidden 隐藏一个 DOM 节点-只触发重绘，因为没有几何变化











